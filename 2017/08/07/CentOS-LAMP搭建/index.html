<!DOCTYPE html>
<html lang=zh>
<head>
    <meta charset="utf-8">
    
    <title>CentOS-LAMP搭建 | 斑斓的梦</title>
    
    
        <meta name="keywords" content="Php,LAMP,CentOS" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="centos 6.4 yum搭建lamp环境1、配置防火墙，开启80端口、3306端口 vi /etc/sysconfig/iptables -A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT #允许80端口通过防火墙 -A INPUT -m state –state NEW -m tcp -p tcp –dport 330">
<meta name="keywords" content="Php,LAMP,CentOS">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOS-LAMP搭建">
<meta property="og:url" content="http://pzhen.github.io/2017/08/07/CentOS-LAMP搭建/index.html">
<meta property="og:site_name" content="斑斓的梦">
<meta property="og:description" content="centos 6.4 yum搭建lamp环境1、配置防火墙，开启80端口、3306端口 vi /etc/sysconfig/iptables -A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT #允许80端口通过防火墙 -A INPUT -m state –state NEW -m tcp -p tcp –dport 330">
<meta property="og:locale" content="zh-cn">
<meta property="og:updated_time" content="2017-08-07T02:49:45.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="CentOS-LAMP搭建">
<meta name="twitter:description" content="centos 6.4 yum搭建lamp环境1、配置防火墙，开启80端口、3306端口 vi /etc/sysconfig/iptables -A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT #允许80端口通过防火墙 -A INPUT -m state –state NEW -m tcp -p tcp –dport 330">
    

    

    
        <link rel="icon" href="/css/images/favicon.ico" />
    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">
    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/libs/jquery/plugins/cookie/1.4.1/jquery.cookie.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    
    


</head>

<body>
    <div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">斑斓的梦</span>
            </a>
            <nav id="main-nav">
                
                    <a class="main-nav-link" href="/">首页</a>
                
                    <a class="main-nav-link" href="/archives">归档</a>
                
                    <a class="main-nav-link" href="/categories">分类</a>
                
                    <a class="main-nav-link" href="/tags">标签</a>
                
                    <a class="main-nav-link" href="/about">关于</a>
                
                    <a class="main-nav-link" href="/links">好友</a>
                
                    <a class="main-nav-link" href="/story">事迹</a>
                
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/css/images/woailuo.jpg" />
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="Type something..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'Posts',
            PAGES: 'Pages',
            CATEGORIES: 'Categories',
            TAGS: 'Tags',
            UNTITLED: '(Untitled)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <table class="menu outer">
            <tr>
                
                    <td><a class="main-nav-link" href="/">首页</a></td>
                
                    <td><a class="main-nav-link" href="/archives">归档</a></td>
                
                    <td><a class="main-nav-link" href="/categories">分类</a></td>
                
                    <td><a class="main-nav-link" href="/tags">标签</a></td>
                
                    <td><a class="main-nav-link" href="/about">关于</a></td>
                
                    <td><a class="main-nav-link" href="/links">好友</a></td>
                
                    <td><a class="main-nav-link" href="/story">事迹</a></td>
                
                <td>
                    
    <div class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="Search" />
    </div>

                </td>
            </tr>
        </table>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/css/images/woailuo.jpg" />
            <h2 id="name">P.Zhen</h2>
            <h3 id="title">Designer &amp; Programmer</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Bei Jing, China</span>
            <a id="follow" target="_blank" href="https://github.com/pzhen/">FOLLOW</a>
        </div>
        <div class="article-info profile-block">
            <div class="article-info-block">
                60
                <span>posts</span>
            </div>
            <div class="article-info-block">
                70
                <span>tags</span>
            </div>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/pzhen/" target="_blank" title="github" class=tooltip>
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="http://weibo.com/2723304531/profile?rightmod=1&wvr=6&mod=personinfo" target="_blank" title="weibo" class=tooltip>
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>

    <div class="inner profile-inner">
    <iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=3&isTitle=1&noborder=1&isWeibo=1&isFans=0&uid=2723304531&verifier=be65dcb4&dpc=1"></iframe>
    </div>

</aside>



            
            
                <aside id="sidebar">
   
        
    <div class="widget-wrap" id='categories'>
        <h3 class="widget-title">
            <span>categories</span>
            &nbsp;
            <a id='allExpand' href="#">
                <i class="fa fa-angle-double-down fa-2x"></i>
            </a>
        </h3>
        
        
        
         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Arithmetic
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Arithmetic-一致性Hash/">Arithmetic-一致性Hash</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Composer
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/21/Composer-管理PHP依赖关系/">Composer - 管理PHP依赖</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Elasticsearch
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/20/Elasticsearch-–-Ik-分词器/">Es – Ik 分词器</a></li>  <li class="file"><a href="/2017/07/20/Elasticsearch-–-倒排索引/">Es – 倒排索引</a></li>  <li class="file"><a href="/2017/07/21/Elasticsearch-–-单机多节点集群/">Es - 单机多节点集群</a></li>  <li class="file"><a href="/2017/07/20/Elasticsearch-–-安装/">Es – 安装</a></li>  <li class="file"><a href="/2017/07/21/Elasticsearch-–-安装插件/">Es – 安装插件</a></li>  <li class="file"><a href="/2017/08/07/Elasticsearch-–-权威指南PDF版/">Es – 权威指南PDF版</a></li>  <li class="file"><a href="/2017/07/20/Elasticsearch-–-核心概念/">Es – 核心概念</a></li>  <li class="file"><a href="/2017/07/20/Elasticsearch-–-集群生态总结/">Es – 集群生态总结</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Funny
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Funny-书生拿着书在打瞌睡/">Funny-书生拿着书在打瞌睡</a></li>  <li class="file"><a href="/2017/08/01/Funny-你笑了吗/">Funny-你笑了吗?</a></li>  <li class="file"><a href="/2017/08/01/Funny-小漫画大道理/">Funny-小漫画大道理</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Git
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/21/Git-–-全局配置与局部项目配置/">Git – 全局与局部项目配置</a></li>  <li class="file"><a href="/2017/07/21/Git-–-基本工作流程/">Git – 基本工作流程</a></li>  <li class="file"><a href="/2017/07/21/Git-–-操作配置别名/">Git – 操作配置别名</a></li>  <li class="file"><a href="/2017/07/21/Git-–-集中式与分布式-版本控制系统区别/">Git – 集中式与分布式</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Hexo
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/21/Hexo-–-Deployer-not-found/">Hexo – 'Deployer not found'</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Html
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Html-漂亮的后台模板/">Html-漂亮的后台模板</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            Linux
                        </a>
                         <ul class="unstyled" id="tree" > 
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Jdk
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/20/Jdk-Ubuntu安装/">Jdk - Ubuntu安装</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory open">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder-open"></i>
                            &nbsp;
                            LAMP
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file active"><a href="/2017/08/07/CentOS-LAMP搭建/">CentOS-LAMP搭建</a></li>  <li class="file"><a href="/2017/08/02/Ubuntu-LAMP搭建/">Ubuntu-LAMP搭建</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Maven
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/21/Maven-Mac-安装/">Maven - Mac 安装</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Rar
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/07/CentOS-安装RAR/">CentOS-安装RAR</a></li>  <li class="file"><a href="/2017/08/07/CentOS-解压缩打包命令/">CentOS-解压缩打包命令</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Shell
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/21/Shell-–-Grep常见用法/">Shell – Grep 常见用法</a></li>  <li class="file"><a href="/2017/07/20/Shell-–-Mac-zsh/">Shell – Mac zsh</a></li>  <li class="file"><a href="/2017/07/19/Shell-–-SSH自动登录/">Shell – SSH自动登录</a></li>  <li class="file"><a href="/2017/07/19/Shell-–-Svn-Log/">Shell – Svn Log</a></li>  <li class="file"><a href="/2017/08/03/Shell-–-Tail读取中间行/">Shell – Tail读取中间行</a></li>  <li class="file"><a href="/2017/07/31/Shell-–-Wget-克隆网站到本地/">Shell – Wget 克隆网站</a></li>  <li class="file"><a href="/2017/07/20/Shell-–-item2-配色/">Shell – item2 配色</a></li>  <li class="file"><a href="/2017/07/21/Shell-–-正则表达式/">Shell – 正则表达式</a></li>  <li class="file"><a href="/2017/08/07/Shell-–-脚本攻略PDF/">Shell – 脚本攻略PDF</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Vim
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/19/Vim-常用命令/">Vim 常用命令</a></li>  <li class="file"><a href="/2017/07/20/Vim-colorschemes/">Vim colorschemes</a></li>  </ul> 
                    </li> 
                     </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Memcached
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Memcached-内存管理原理/">Mem-内存管理原理</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Movie
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/07/Movie-《海边的曼彻斯特》/">Movie-《海边的曼彻斯特》</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Mysql
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Mysql-Datediff-函数/">Mysql-Datediff()函数</a></li>  <li class="file"><a href="/2017/08/01/Mysql-CONCAT及GROUP-CONCAT/">Mysql-CONCAT及GROUP_CONCAT</a></li>  <li class="file"><a href="/2017/07/31/Mysql-Int类型/">Mysql-Int类型</a></li>  <li class="file"><a href="/2017/07/31/Mysql-Varchar类型/">Mysql-Varchar类型</a></li>  <li class="file"><a href="/2017/07/31/Mysql-开启日志/">Mysql-开启日志</a></li>  <li class="file"><a href="/2017/07/31/Mysql-蠕虫复制/">Mysql-蠕虫复制</a></li>  <li class="file"><a href="/2017/08/07/Mysql-远程连接/">Mysql-远程连接</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Php
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/31/Php-Api通信规则/">Php 一Api通信规则</a></li>  <li class="file"><a href="/2017/07/20/Php-实现一致性哈希包含虚拟节点/">Php 一致性哈希</a></li>  <li class="file"><a href="/2017/07/31/Php-phpStorm快捷键/">Php 一phpStorm快捷键</a></li>  <li class="file"><a href="/2017/08/03/Php-浮点数精确运算/">Php 一浮点数精确运算</a></li>  <li class="file"><a href="/2017/08/03/Php-逐行读取文件/">Php 一逐行读取文件</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Python
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/03/Python-Isinstance/">Python Isinstance</a></li>  <li class="file"><a href="/2017/07/20/Python-中文编码问题/">Python 中文编码问题</a></li>  <li class="file"><a href="/2017/07/21/Python-优先级队列/">Python 优先级队列</a></li>  <li class="file"><a href="/2017/08/03/Python-验证日期格式/">Python 验证日期格式</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Redis
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/07/20/Redis-PHP7扩展/">Redis - PHP7扩展</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Solr
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Solr-Mmseg4j分词/">Solr-Mmseg4j分词</a></li>  </ul> 
                    </li> 
                    
                    <li class="directory">
                        <a href="#" data-role="directory">
                            <i class="fa fa-folder"></i>
                            &nbsp;
                            Tools
                        </a>
                         <ul class="unstyled" id="tree" >  <li class="file"><a href="/2017/08/01/Tools-Vmware-fusion-8-5-pro-注册码/">Tools-Vmware fusion 8.5 pro 注册码</a></li>  <li class="file"><a href="/2017/08/01/Tools-Window8-1专业版本秘钥/">Tools-Win8.1专业版秘钥</a></li>  <li class="file"><a href="/2017/08/01/Tools-XP注册码/">Tools-XP注册码</a></li>  </ul> 
                    </li> 
                     <li class="file"><a href="/2017/07/19/Linux下-ssh-自动登录脚本/"></a></li>  </ul> 
    </div>
    <script>
        $(document).ready(function() {
            var iconFolderOpenClass  = 'fa-folder-open';
            var iconFolderCloseClass = 'fa-folder';
            var iconAllExpandClass = 'fa-angle-double-down';
            var iconAllPackClass = 'fa-angle-double-up';
            // Handle directory-tree expansion:
            // 左键单独展开目录
            $(document).on('click', '#categories a[data-role="directory"]', function (event) {
                event.preventDefault();

                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var subtree = $(this).siblings('ul');
                icon.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if (expanded) {
                    if (typeof subtree != 'undefined') {
                        subtree.slideUp({ duration: 100 });
                    }
                    icon.addClass(iconFolderCloseClass);
                } else {
                    if (typeof subtree != 'undefined') {
                        subtree.slideDown({ duration: 100 });
                    }
                    icon.addClass(iconFolderOpenClass);
                }
            });
            // 右键展开下属所有目录
            $('#categories a[data-role="directory"]').bind("contextmenu", function(event){
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconFolderOpenClass);
                var listNode = $(this).siblings('ul');
                var subtrees = $.merge(listNode.find('li ul'), listNode);
                var icons = $.merge(listNode.find('.fa'), icon);
                icons.removeClass(iconFolderOpenClass).removeClass(iconFolderCloseClass);
                if(expanded) {
                    subtrees.slideUp({ duration: 100 });
                    icons.addClass(iconFolderCloseClass);
                } else {
                    subtrees.slideDown({ duration: 100 });
                    icons.addClass(iconFolderOpenClass);
                }
            })
            // 展开关闭所有目录按钮
            $(document).on('click', '#allExpand', function (event) {
                event.preventDefault();
                
                var icon = $(this).children('.fa');
                var expanded = icon.hasClass(iconAllExpandClass);
                icon.removeClass(iconAllExpandClass).removeClass(iconAllPackClass);
                if(expanded) {
                    $('#sidebar .fa.fa-folder').removeClass('fa-folder').addClass('fa-folder-open')
                    $('#categories li ul').slideDown({ duration: 100 });
                    icon.addClass(iconAllPackClass);
                } else {
                    $('#sidebar .fa.fa-folder-open').removeClass('fa-folder-open').addClass('fa-folder')
                    $('#categories li ul').slideUp({ duration: 100 });
                    icon.addClass(iconAllExpandClass);
                }
            });  
        });
    </script>

    
        
    <div class="widget-wrap">
        <h3 class="widget-title"><span>tag cloud</span></h3>
        <div class="widget tagcloud">
            <a href="/tags/Api/" style="font-size: 10px;">Api</a> <a href="/tags/Arithmetic/" style="font-size: 10px;">Arithmetic</a> <a href="/tags/CentOS/" style="font-size: 13.33px;">CentOS</a> <a href="/tags/Composer/" style="font-size: 10px;">Composer</a> <a href="/tags/Concat/" style="font-size: 10px;">Concat</a> <a href="/tags/Datediff/" style="font-size: 10px;">Datediff</a> <a href="/tags/Elasticsearch/" style="font-size: 18.33px;">Elasticsearch</a> <a href="/tags/Es/" style="font-size: 18.33px;">Es</a> <a href="/tags/Funny/" style="font-size: 13.33px;">Funny</a> <a href="/tags/Git/" style="font-size: 15px;">Git</a> <a href="/tags/Grep/" style="font-size: 10px;">Grep</a> <a href="/tags/Group-concat/" style="font-size: 10px;">Group_concat</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Html/" style="font-size: 10px;">Html</a> <a href="/tags/Ik/" style="font-size: 13.33px;">Ik</a> <a href="/tags/Int/" style="font-size: 10px;">Int</a> <a href="/tags/Isinstance/" style="font-size: 10px;">Isinstance</a> <a href="/tags/Iterm2/" style="font-size: 10px;">Iterm2</a> <a href="/tags/Java/" style="font-size: 10px;">Java</a> <a href="/tags/Jdk/" style="font-size: 10px;">Jdk</a> <a href="/tags/LAMP/" style="font-size: 11.67px;">LAMP</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/Lucene/" style="font-size: 10px;">Lucene</a> <a href="/tags/Mac/" style="font-size: 11.67px;">Mac</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/Memcached/" style="font-size: 10px;">Memcached</a> <a href="/tags/Mmseg4j/" style="font-size: 10px;">Mmseg4j</a> <a href="/tags/Movie/" style="font-size: 10px;">Movie</a> <a href="/tags/Mysql/" style="font-size: 16.67px;">Mysql</a> <a href="/tags/PDF/" style="font-size: 10px;">PDF</a> <a href="/tags/Php/" style="font-size: 18.33px;">Php</a> <a href="/tags/PhpStorm/" style="font-size: 10px;">PhpStorm</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Rar/" style="font-size: 11.67px;">Rar</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/Shell/" style="font-size: 16.67px;">Shell</a> <a href="/tags/Solr/" style="font-size: 10px;">Solr</a> <a href="/tags/Svn/" style="font-size: 10px;">Svn</a> <a href="/tags/Tail/" style="font-size: 10px;">Tail</a> <a href="/tags/Template/" style="font-size: 10px;">Template</a> <a href="/tags/Tools/" style="font-size: 13.33px;">Tools</a> <a href="/tags/Ubuntu/" style="font-size: 11.67px;">Ubuntu</a> <a href="/tags/Varchar/" style="font-size: 10px;">Varchar</a> <a href="/tags/Vim/" style="font-size: 11.67px;">Vim</a> <a href="/tags/Wget/" style="font-size: 10px;">Wget</a> <a href="/tags/Zsh/" style="font-size: 10px;">Zsh</a> <a href="/tags/colorschemes/" style="font-size: 10px;">colorschemes</a> <a href="/tags/《海边的曼彻斯特》/" style="font-size: 10px;">《海边的曼彻斯特》</a> <a href="/tags/一致性Hash/" style="font-size: 10px;">一致性Hash</a> <a href="/tags/优先级队列/" style="font-size: 10px;">优先级队列</a> <a href="/tags/倒排序/" style="font-size: 10px;">倒排序</a> <a href="/tags/分布式管理/" style="font-size: 10px;">分布式管理</a> <a href="/tags/别名/" style="font-size: 10px;">别名</a> <a href="/tags/原理/" style="font-size: 10px;">原理</a> <a href="/tags/打包/" style="font-size: 10px;">打包</a> <a href="/tags/插件/" style="font-size: 10px;">插件</a> <a href="/tags/日志/" style="font-size: 10px;">日志</a> <a href="/tags/日期格式/" style="font-size: 10px;">日期格式</a> <a href="/tags/正则/" style="font-size: 10px;">正则</a> <a href="/tags/注册码/" style="font-size: 10px;">注册码</a> <a href="/tags/浮点数/" style="font-size: 10px;">浮点数</a> <a href="/tags/精度/" style="font-size: 10px;">精度</a> <a href="/tags/解压/" style="font-size: 10px;">解压</a> <a href="/tags/读取文件/" style="font-size: 10px;">读取文件</a> <a href="/tags/运算/" style="font-size: 10px;">运算</a> <a href="/tags/远程连接/" style="font-size: 10px;">远程连接</a> <a href="/tags/队列/" style="font-size: 10px;">队列</a> <a href="/tags/集中式管理/" style="font-size: 10px;">集中式管理</a> <a href="/tags/集群/" style="font-size: 11.67px;">集群</a>
        </div>
    </div>

    
    <div id="toTop" class="fa fa-angle-up"></div>
</aside>


            
            <section id="main"><article id="post-CentOS-LAMP搭建" class="article article-type-post" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
            <header class="article-header">
                
                    <div class="article-meta">
                        
    <div class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/Linux/">Linux</a><i class="fa fa-angle-right"></i><a class="article-category-link" href="/categories/Linux/LAMP/">LAMP</a>
    </div>

                        
    <div class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/CentOS/">CentOS</a>, <a class="tag-link" href="/tags/LAMP/">LAMP</a>, <a class="tag-link" href="/tags/Php/">Php</a>
    </div>

                        
    <div class="article-date">
        <i class="fa fa-calendar"></i>
        <a href="/2017/08/07/CentOS-LAMP搭建/">
            <time datetime="2017-08-07T02:48:35.000Z" itemprop="datePublished">2017-08-07</time>
        </a>
    </div>


                        
                    </div>
                
                
    
        <h1 class="article-title" itemprop="name">
            CentOS-LAMP搭建
        </h1>
    

            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
        
        
            
                <div id="toc" class="toc-article">
                <strong class="toc-title">Catalogue</strong>
                    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#centos-6-4-yum搭建lamp环境"><span class="toc-number">1.</span> <span class="toc-text">centos 6.4 yum搭建lamp环境</span></a></li></ol>
                </div>
            
        
        
            <h3 id="centos-6-4-yum搭建lamp环境"><a href="#centos-6-4-yum搭建lamp环境" class="headerlink" title="centos 6.4 yum搭建lamp环境"></a>centos 6.4 yum搭建lamp环境</h3><p>1、配置防火墙，开启80端口、3306端口</p>
<p>vi /etc/sysconfig/iptables</p>
<p>-A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT #允许80端口通过防火墙</p>
<p>-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT #允许3306端口通过防火墙</p>
<p>备注：很多网友把这两条规则添加到防火墙配置的最后一行，导致防火墙启动失败，</p>
<p>正确的应该是添加到默认的22端口这条规则的下面</p>
<p>如下所示：</p>
<p>############################## 添加好之后防火墙规则如下所示 ##############################</p>
<p>Firewall configuration written by system-config-firewall</p>
<p>Manual customization of this file is not recommended.</p>
<p>*filter</p>
<p>:INPUT ACCEPT [0:0]</p>
<p>:FORWARD ACCEPT [0:0]</p>
<p>:OUTPUT ACCEPT [0:0]</p>
<p>-A INPUT -m state –state ESTABLISHED,RELATED -j ACCEPT</p>
<p>-A INPUT -p icmp -j ACCEPT</p>
<p>-A INPUT -i lo -j ACCEPT</p>
<p>-A INPUT -m state –state NEW -m tcp -p tcp –dport 22 -j ACCEPT</p>
<p>-A INPUT -m state –state NEW -m tcp -p tcp –dport 80 -j ACCEPT</p>
<p>-A INPUT -m state –state NEW -m tcp -p tcp –dport 3306 -j ACCEPT</p>
<p>-A INPUT -j REJECT –reject-with icmp-host-prohibited</p>
<p>-A FORWARD -j REJECT –reject-with icmp-host-prohibited</p>
<p>COMMIT</p>
<p>###################################################################################</p>
<p>/etc/init.d/iptables restart #最后重启防火墙使配置生效</p>
<p>2、关闭SELINUX</p>
<p>vi /etc/selinux/config</p>
<p>#SELINUX=enforcing #注释掉</p>
<p>#SELINUXTYPE=targeted #注释掉</p>
<p>SELINUX=disabled #增加</p>
<p>:wq #保存，关闭</p>
<p>shutdown -r now #重启系统</p>
<p>安装篇：</p>
<p>一、安装Apache</p>
<p>yum install httpd #根据提示，输入Y安装即可成功安装</p>
<p>/etc/init.d/httpd start #启动Apache</p>
<p>备注：Apache启动之后会提示错误：</p>
<p>正在启动 httpd:httpd: Could not reliably determine the server’s fully qualif domain name, using ::1 for ServerName</p>
<p>解决办法：</p>
<p>vi /etc/httpd/conf/httpd.conf #编辑</p>
<p>找到 #ServerName www.example.com:80</p>
<p>修改为 ServerName www.osyunwei.com:80 #这里设置为你自己的域名，如果没有域名，可以设置为localhost:wq! #保存退出</p>
<p>chkconfig httpd on #设为开机启动</p>
<p>/etc/init.d/httpd restart #重启Apache</p>
<p>二、安装MySQL</p>
<p>1、安装MySQL</p>
<p>yum install mysql mysql-server #询问是否要安装，输入Y即可自动安装,直到安装完成</p>
<p>/etc/init.d/mysqld start #启动MySQL</p>
<p>chkconfig mysqld on #设为开机启动</p>
<p>cp /usr/share/mysql/my-medium.cnf /etc/my.cnf #拷贝配置文件（注意：如果/etc目录下面默认有一个my.cnf，直接覆盖即可）</p>
<p>2、为root账户设置密码</p>
<p>mysql_secure_installation</p>
<p>回车，根据提示输入Y</p>
<p>输入2次密码，回车</p>
<p>根据提示一路输入Y</p>
<p>最后出现：Thanks for using MySQL!</p>
<p>MySql密码设置完成，重新启动 MySQL：</p>
<p>/etc/init.d/mysqld restart #重启</p>
<p>/etc/init.d/mysqld stop #停止</p>
<p>/etc/init.d/mysqld start #启动</p>
<p>允许远程登录</p>
<p>mysql -u root -p</p>
<p>Enter Password: <your new="" password=""></your></p>
<p>mysql&gt;GRANT ALL PRIVILEGES ON . TO ‘用户名’@’%’ IDENTIFIED BY ‘密码’ WITH GRANT OPTION;</p>
<p>完成后就能用mysql-front远程管理mysql了</p>
<p>详细出处参考：<a href="http://www.jb51.net/article/24775.htm" target="_blank" rel="external">http://www.jb51.net/article/24775.htm</a></p>
<p>解决 Access denied for user ‘’@’localhost’ to database ‘mysql’ 今天给服务器更新mysql，用源代码编译安装，在导入数据后发现没有将mysql加入系统服务，于是加上服务。加上之后在登录，结果不用密码就能登进去，而root明明是有密码的。用select user()命令查看当前登录用户是root。</p>
<p>查看数据库，只能看到自带的两个，mysql这个数据库都看不到。如果运行use mysql，就会出现 Access denied for user ‘’@’localhost’ to database ‘mysql’， 这说明这是匿名登录的，几乎什么权限都没有。即使用mysql -u root登录也是这个样子，不知道是不是一个bug。</p>
<p>在 网上查了半天，找到了解决办法。首先停止mysqld服务，然后后台运行mysqld_safe –skip-grant-tables &amp;, 再用root登录，就一切正常了。网上说只要改了root密码就好了，我的却不行。干脆把user表里的匿名用户删了，反正也不用匿名登录。然后在登录就 好了</p>
<p>三、安装PHP5</p>
<p>1、安装PHP5</p>
<p>yum install php</p>
<p>根据提示输入Y直到安装完成</p>
<p>2、安装PHP组件，使 PHP5 支持 MySQL</p>
<p>yum install php-mysql php-gd libjpeg* php-imap php-ldap php-odbc php-pear php-xml php-xmlrpc php-mbstring php-mcrypt php-bcmath php-mhash libmcrypt</p>
<p>这里选择以上安装包进行安装</p>
<p>根据提示输入Y回车</p>
<p>/etc/init.d/mysqld restart #重启MySql</p>
<p>/etc/init.d/httpd restart #重启Apche</p>
<p>配置篇</p>
<p>一、Apache配置</p>
<p>vi /etc/httpd/conf/httpd.conf #编辑文件</p>
<p>ServerTokens OS　 在44行 修改为：ServerTokens Prod （在出现错误页的时候不显示服务器操作系统的名称）</p>
<p>ServerSignature On　 在536行 修改为：ServerSignature Off （在错误页中不显示Apache的版本）</p>
<p>Options Indexes FollowSymLinks　 在331行 修改为：Options Includes ExecCGI FollowSymLinks（允许服务器执行CGI及SSI，禁止列出目录）</p>
<p>#AddHandler cgi-script .cgi　在796行 修改为：AddHandler cgi-script .cgi .pl （允许扩展名为.pl的CGI脚本运行）</p>
<p>AllowOverride None　 在338行 修改为：AllowOverride All （允许.htaccess）</p>
<p>AddDefaultCharset UTF-8　在759行 修改为：AddDefaultCharset GB2312　（添加GB2312为默认编码）</p>
<p>Options Indexes MultiViews FollowSymLinks 在554行 修改为 Options MultiViews FollowSymLinks（不在浏览器上显示树状目录结构）</p>
<p>DirectoryIndex index.html index.html.var 在402行 修改为：DirectoryIndex index.html index.htm Default.html Default.htm</p>
<p>index.php Default.php index.html.var （设置默认首页文件，增加index.php）</p>
<p>KeepAlive Off 在76行 修改为：KeepAlive On （允许程序性联机）</p>
<p>MaxKeepAliveRequests 100 在83行 修改为：MaxKeepAliveRequests 1000 （增加同时连接数）</p>
<p>:wq! #保存退出</p>
<p>/etc/init.d/httpd restart #重启</p>
<p>rm -f /etc/httpd/conf.d/welcome.conf /var/www/error/noindex.html #删除默认测试页</p>
<p>二、php配置</p>
<p>vi /etc/php.ini #编辑</p>
<p>date.timezone = PRC #在946行 把前面的分号去掉，改为date.timezone = PRC</p>
<p>disable_functions = passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,getservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd, posix_getegid,posix_geteuid,posix_getgid, posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid, posix_getppid,posix_getpwnam,posix_getpwuid, posix_getrlimit, posix_getsid,posix_getuid,posix_isatty, posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid, posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname</p>
<p>#在386行 列出PHP可以禁用的函数，如果某些程序需要用到这个函数，可以删除，取消禁用。</p>
<p>expose_php = Off #在432行 禁止显示php版本的信息</p>
<p>magic_quotes_gpc = On #在745行 打开magic_quotes_gpc来防止SQL注入</p>
<p>short_open_tag = ON #在229行支持php短标签</p>
<p>open_basedir = .:/tmp/ #在380行 设置表示允许访问当前目录(即PHP脚本文件所在之目录)和/tmp/目录,可以防止php木马跨站,如果改了之后安装程序有问题(例如：织梦内容管理系 统)，可以注销此行，或者直接写上程序的目录/data/www.osyunwei.com/:/tmp/</p>
<p>:wq! #保存退出</p>
<p>/etc/init.d/mysqld restart #重启MySql</p>
<p>/etc/init.d/httpd restart #重启Apche</p>
<p>测试篇</p>
<p>cd /var/www/html</p>
<p>vi index.php #输入下面内容</p>
<p>&lt;?php</p>
<p>phpinfo();</p>
<p>?&gt;</p>
<p>:wq! #保存退出</p>
<p>详细出处参考：<a href="http://www.jb51.net/article/37987.htm" target="_blank" rel="external">http://www.jb51.net/article/37987.htm</a></p>
<p>安装Apahce, PHP, MySQL以及php连接mysql库组件。 #yum -y install httpd php mysql mysql-server php-mysql yum会到指定的服务器(mirror:163.com服务器)下载对应的软件版本，并自动处理依赖关系，并进行安装。</p>
<p>安装apache扩展 #yum -y install httpd-manual mod_ssl mod_perl mod_auth_mysql 让apache更好的支持其他的软件。</p>
<p>安装php的扩展 #yum -y install php-gd php-xml php-mbstring php-ldap php-pear php-xmlrpc apache本身并不支持php文件，要安装对应的php软件，然后进行http.conf配置；让apache能解析.php文件。</p>
<p>安装MySQL的扩展 #yum -y install mysql-connector-odbc mysql-devel libdbi-dbd-mysql 跟好的实现mysql的功能。</p>
<p>配置开机启动服务 #/sbin/chkconfig httpd on [设置apache服务器httpd服务开机启动] #/sbin/service httpd start [启动httpd服务,与开机启动无关] #/sbin/service mysqld start [启动mysqld服务,与开机启动无关]</p>
<p>简单配置文件： apache的配置文件是/etc/httpd/conf下 modules放在/usr/lib/httpd下 php的配置文件在/etc/php.d/下 和/etc/php.ini php的modules放在/usr/lib/php/modules下</p>
<p>安装Tomcat5 #yum -y install tomcat5 tomcat5-webapps tomcat5-admin-webapps 安装Tomcat5安装包和对应的依赖关系包</p>
<p>启动Tomcat5 #service tomcat5 start #chkconfig tomcat5 on</p>
<p>在浏览器输入<a href="http://你的IP:8080/,可以看到Apache" target="_blank" rel="external">http://你的IP:8080/,可以看到Apache</a> SoftWare Foundation页，如果看不到，请确认是否是防火墙问题 看到一个猫头 ——————&gt;tomcat5安装成功</p>
<p>Apache与Tomcat整合 如果网站需同时整合Apache与Tomcat可以使用JK或者Proxy方式 使用VI编辑proxy_ajp.conf文件 #vi /etc/httpd/conf.d/proxy_ajp.conf 输入以下内容 ProxyPass /tomcat/ ajp://localhost:8009/ 存储文件后，重启Apache</p>
<p>#service httpd restart</p>
<p>在浏览器输入<a href="http://你的IP/tomcat/,可以看到Apache" target="_blank" rel="external">http://你的IP/tomcat/,可以看到Apache</a> SoftWare Foundation页 As you may have guessed by now, this is the default Tomcat home page. It can be found on the local filesystem at:</p>
<p>$CATALINA_HOME/webapps/ROOT/index.jsp</p>
<p>这样就可以解析 .jsp文件。</p>

            </div>
        
        <footer class="article-footer">
        </footer>
    </div>
</article>


    
<nav id="article-nav">
    
        <a href="/2017/08/07/Movie-《海边的曼彻斯特》/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Newer</strong>
            <div class="article-nav-title">
                
                    Movie-《海边的曼彻斯特》
                
            </div>
        </a>
    
    
        <a href="/2017/08/07/CentOS-解压缩打包命令/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">Older</strong>
            <div class="article-nav-title">CentOS-解压缩打包命令</div>
        </a>
    
</nav>





    
    


</section>
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            P.Zhen &copy; 2017 Powered by <a href="http://github.com/" target="_blank">GitHub</a>.
        </div>
    </div>
</footer>
<div style="display:none">
<script src="https://s95.cnzz.com/z_stat.php?id=1261833667&web_id=1261833667" language="JavaScript"></script>
</div>
        

    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
</body>
</html>